<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Costos para Emprendedores</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Encabezado -->
        <header class="app-header">
            <h1>âœ¨ Calculadora de Costos âœ¨</h1>
            <p>Gestiona tus insumos y calcula el precio perfecto para tus productos</p>
        </header>

        <!-- NavegaciÃ³n por pestaÃ±as -->
        <nav class="nav-tabs">
            <button class="tab-btn active" data-tab="insumos">
                <span>ğŸ“¦</span>
                GestiÃ³n de Insumos
            </button>
            <button class="tab-btn" data-tab="calculadora">
                <span>ğŸ§®</span>
                Calculadora de Costos
            </button>
            <button class="tab-btn" data-tab="historial">
                <span>ğŸ“Š</span>
                Historial
            </button>
        </nav>

        <!-- SecciÃ³n 1: GestiÃ³n de Insumos -->
        <section id="insumos" class="tab-content active">
            <div class="card">
                <div class="card__header">
                    <h2>ğŸ¯ AÃ±adir Nuevo Insumo</h2>
                </div>
                <div class="card__body">
                    <form id="form-insumo" class="form-grid">
                        <div class="form-group">
                            <label class="form-label">âœï¸ Nombre del Insumo</label>
                            <input type="text" id="nombre-insumo" class="form-control" placeholder="Ej: Harina de trigo premium" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ğŸ“Š Cantidad Comprada</label>
                            <input type="number" id="cantidad-insumo" class="form-control" step="0.01" min="0" placeholder="5.0" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ğŸ“ Unidad de Medida</label>
                            <select id="unidad-insumo" class="form-control" required>
                                <option value="">Seleccionar unidad</option>
                                <option value="kg">ğŸ‹ï¸ Kilogramo (kg)</option>
                                <option value="g">âš–ï¸ Gramo (g)</option>
                                <option value="l">ğŸ¥¤ Litro (l)</option>
                                <option value="ml">ğŸ’§ Mililitro (ml)</option>
                                <option value="m">ğŸ“ Metro (m)</option>
                                <option value="cm">ğŸ“ CentÃ­metro (cm)</option>
                                <option value="und">ğŸ”¢ Unidad (und)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ğŸ’° Precio Total Pagado ($)</label>
                            <input type="number" id="precio-insumo" class="form-control" step="0.01" min="0" placeholder="25.50" required>
                        </div>
                        
                        <div class="form-group form-actions">
                            <button type="submit" class="btn btn--secondary">
                                âœ¨ AÃ±adir Insumo
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Lista de Insumos -->
            <div class="card mt-24">
                <div class="card__header">
                    <h3>ğŸ“‹ Lista de Insumos</h3>
                    <span id="total-insumos" class="status status--info">0 insumos</span>
                </div>
                <div class="card__body">
                    <div class="table-container">
                        <table id="tabla-insumos" class="data-table">
                            <thead>
                                <tr>
                                    <th>ğŸ·ï¸ Insumo</th>
                                    <th>ğŸ“¦ Cant. Original</th>
                                    <th>ğŸ’µ Precio Total</th>
                                    <th>ğŸ”„ Cant. Convertida</th>
                                    <th>ğŸ’ Precio por Unidad</th>
                                    <th>âš¡ Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr id="empty-insumos">
                                    <td colspan="6" class="empty-state">
                                        ğŸŒŸ No hay insumos registrados. Â¡AÃ±ade tu primer insumo arriba!
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- SecciÃ³n 2: Calculadora de Costos -->
        <section id="calculadora" class="tab-content">
            <div class="calculator-layout">
                <!-- Panel Izquierdo: ConfiguraciÃ³n del Producto -->
                <div class="calc-panel">
                    <div class="card">
                        <div class="card__header">
                            <h2>ğŸ¨ ConfiguraciÃ³n del Producto</h2>
                        </div>
                        <div class="card__body">
                            <form id="form-producto">
                                <div class="form-group">
                                    <label class="form-label">ğŸ·ï¸ Nombre del Producto Final</label>
                                    <input type="text" id="nombre-producto" class="form-control" placeholder="Ej: Torta Tres Leches Deluxe" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">ğŸ”¢ Cantidad del Pedido</label>
                                    <input type="number" id="cantidad-pedido" class="form-control" min="1" value="1" required>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- SelecciÃ³n de Ingredientes -->
                    <div class="card mt-16">
                        <div class="card__header">
                            <h3>ğŸ§ª Ingredientes del Producto</h3>
                        </div>
                        <div class="card__body">
                            <form id="form-ingrediente" class="ingredient-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">ğŸ¯ Insumo</label>
                                        <select id="select-insumo" class="form-control">
                                            <option value="">Seleccionar insumo</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">ğŸ“Š Cantidad Requerida</label>
                                        <input type="number" id="cantidad-requerida" class="form-control" step="0.01" min="0" placeholder="0.5">
                                    </div>
                                </div>
                                
                                <button type="submit" class="btn btn--secondary">
                                    â• Agregar Ingrediente
                                </button>
                            </form>
                            
                            <div id="lista-ingredientes" class="ingredient-list mt-16">
                                <!-- Ingredientes aÃ±adidos aparecerÃ¡n aquÃ­ -->
                            </div>
                        </div>
                    </div>

                    <!-- Gastos Adicionales -->
                    <div class="card mt-16">
                        <div class="card__header">
                            <h3>ğŸ’¡ Gastos Adicionales</h3>
                        </div>
                        <div class="card__body">
                            <form id="form-gasto">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">ğŸ“ Concepto</label>
                                        <input type="text" id="concepto-gasto" class="form-control" placeholder="Ej: Gas, EnergÃ­a elÃ©ctrica, Transporte">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">ğŸ’° Costo ($)</label>
                                        <input type="number" id="costo-gasto" class="form-control" step="0.01" min="0" placeholder="5.00">
                                    </div>
                                </div>
                                
                                <button type="submit" class="btn btn--secondary">
                                    â• Agregar Gasto
                                </button>
                            </form>
                            
                            <div id="lista-gastos" class="expense-list mt-16">
                                <!-- Gastos aÃ±adidos aparecerÃ¡n aquÃ­ -->
                            </div>
                        </div>
                    </div>

                    <!-- ConfiguraciÃ³n de Porcentajes -->
                    <div class="card mt-16">
                        <div class="card__header">
                            <h3>âš™ï¸ ConfiguraciÃ³n de Porcentajes</h3>
                        </div>
                        <div class="card__body">
                            <div class="form-group">
                                <label class="form-label">ğŸ—‘ï¸ Porcentaje de Desperdicio (%)</label>
                                <input type="number" id="porcentaje-desperdicio" class="form-control" value="10" step="0.1" min="0">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">ğŸ¢ Porcentaje de Costos Fijos (%)</label>
                                <input type="number" id="porcentaje-costos-fijos" class="form-control" value="20" step="0.1" min="0">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">ğŸ’¼ Porcentaje de Mano de Obra / Ganancia (%)</label>
                                <input type="number" id="porcentaje-mano-obra" class="form-control" value="50" step="0.1" min="0">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Panel Derecho: Resultados -->
                <div class="calc-panel">
                    <div class="card results-card">
                        <div class="card__header">
                            <h2>ğŸ“Š Resumen de Costos</h2>
                            <button id="btn-calcular" class="btn btn--primary">
                                ğŸš€ Calcular Costos
                            </button>
                        </div>
                        <div class="card__body">
                            <div class="cost-summary">
                                <div class="cost-item">
                                    <span>ğŸ§ª Subtotal Ingredientes:</span>
                                    <span id="subtotal-ingredientes" class="currency">$0.00</span>
                                </div>
                                
                                <div class="cost-item">
                                    <span>ğŸ’¡ Gastos Adicionales:</span>
                                    <span id="total-gastos" class="currency">$0.00</span>
                                </div>
                                
                                <div class="cost-item subtotal">
                                    <span>ğŸ“‹ Subtotal Base:</span>
                                    <span id="subtotal-base" class="currency">$0.00</span>
                                </div>
                                
                                <div class="cost-item">
                                    <span>ğŸ—‘ï¸ Desperdicio (<span id="display-desperdicio">10</span>%):</span>
                                    <span id="valor-desperdicio" class="currency">$0.00</span>
                                </div>
                                
                                <div class="cost-item">
                                    <span>ğŸ¢ Costos Fijos (<span id="display-costos-fijos">20</span>%):</span>
                                    <span id="valor-costos-fijos" class="currency">$0.00</span>
                                </div>
                                
                                <div class="cost-item">
                                    <span>ğŸ’¼ Mano de Obra (<span id="display-mano-obra">50</span>%):</span>
                                    <span id="valor-mano-obra" class="currency">$0.00</span>
                                </div>
                                
                                <div class="cost-item total">
                                    <span>ğŸ’ Costo Unitario Final:</span>
                                    <span id="costo-unitario" class="currency">$0.00</span>
                                </div>
                                
                                <div class="cost-item final">
                                    <span>ğŸ¯ Total del Pedido (<span id="display-cantidad">1</span> unidades):</span>
                                    <span id="total-pedido" class="currency">$0.00</span>
                                </div>
                            </div>

                            <div class="action-buttons mt-24">
                                <button id="btn-guardar-calculo" class="btn btn--primary btn--full-width">
                                    ğŸ’¾ Guardar CÃ¡lculo
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Detalle de Ingredientes -->
                    <div class="card mt-16">
                        <div class="card__header">
                            <h3>ğŸ” Detalle de Ingredientes</h3>
                        </div>
                        <div class="card__body">
                            <div class="table-container">
                                <table id="tabla-detalle-ingredientes" class="data-table">
                                    <thead>
                                        <tr>
                                            <th>ğŸ§ª Ingrediente</th>
                                            <th>ğŸ“Š Cantidad</th>
                                            <th>ğŸ’° Precio Unit.</th>
                                            <th>ğŸ’µ Total</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td colspan="4" class="empty-state">
                                                ğŸŒŸ No hay ingredientes aÃ±adidos
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SecciÃ³n 3: Historial -->
        <section id="historial" class="tab-content">
            <div class="card">
                <div class="card__header">
                    <h2>ğŸ“š Historial de CÃ¡lculos</h2>
                    <button id="btn-limpiar-historial" class="btn btn--outline">
                        ğŸ—‘ï¸ Limpiar Historial
                    </button>
                </div>
                <div class="card__body">
                    <div id="lista-historial" class="history-list">
                        <div class="empty-state">
                            ğŸ¯ No hay cÃ¡lculos guardados. Â¡Realiza tu primer cÃ¡lculo en la secciÃ³n "Calculadora de Costos"!
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Modal de ConfirmaciÃ³n -->
    <div id="modal-confirmar" class="modal hidden">
        <div class="modal-content">
            <h3>âš ï¸ Confirmar AcciÃ³n</h3>
            <p id="modal-mensaje"></p>
            <div class="modal-actions">
                <button id="modal-cancelar" class="btn btn--outline">âŒ Cancelar</button>
                <button id="modal-confirmar-btn" class="btn btn--primary">âœ… Confirmar</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>